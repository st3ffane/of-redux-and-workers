!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";t.r(r),t.d(r,"workerMiddleware",(function(){return o})),t.d(r,"workerAsPromiseMiddleware",(function(){return g})),t.d(r,"initWorker",(function(){return h}));var n="WORKER!",o=function(e){return function(r){var t=function(e,r){return e.addEventListener("message",(function(e){return r(e.data)})),{process:function(r){return new Promise((function(t,n){e.postMessage(r),t()}))}}}(e,r.dispatch);return function(e){return function(r){return r.type.startsWith(n)?t.process(r).then((function(t){t&&t.type?e(t):e(r)})).catch((function(t){e(r)})):e(r)}}}};var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),u=new Uint8Array(16);function c(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(u)}var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"==typeof e&&f.test(e)},s=[],p=0;p<256;++p)s.push((p+256).toString(16).substr(1));var l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(s[e[r+0]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+"-"+s[e[r+4]]+s[e[r+5]]+"-"+s[e[r+6]]+s[e[r+7]]+"-"+s[e[r+8]]+s[e[r+9]]+"-"+s[e[r+10]]+s[e[r+11]]+s[e[r+12]]+s[e[r+13]]+s[e[r+14]]+s[e[r+15]]).toLowerCase();if(!a(t))throw TypeError("Stringified UUID is invalid");return t};var d=function(e,r,t){var n=(e=e||{}).random||(e.rng||c)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return l(n)};function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var O={},g=function(){return function(e){return function(r){if(r.type&&r.type.startsWith(n)&&r.resolvers){var t=function(e,r){var t,n,o=r.resolvers.workerID||d(),i=new Promise((function(i,u){t=i,n=u,e(b(b({},r),{},{workerID:o}))}));return{doResolve:j(t,n,r.resolvers),promise:i,id:o}}(e,r);return O[t.id]=t,t.promise}return O[r.workerID]?(e(r),O[r.workerID].doResolve(r),void delete O[r.workerID]):e(r)}}},j=function(e,r,t){return function(n){var o=n.type,i=t.resolveOn,u=t.rejectOn;if(i){if("string"==typeof i&&i===o)return e(n);if(Array.isArray(i)&&i.find((function(e){return e===o})))return e(n)}if(u){if("string"==typeof u&&u===o)return r(n);if(Array.isArray(u)&&u.find((function(e){return e===o})))return r(n)}}};function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P(e,r){var t={};if(e.type&&e.payload)t=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){w(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e);else{var n=r;Array.isArray(r)&&(n=n[0]),t={type:n,payload:e}}return t}function h(e){self.addEventListener("message",(function(r){return function e(r,t,o){if(r&&r.type){var i=function(r){return e(r,t,o)},u=r.type,c=r.workerID,f=r.resolvers||{resolveOn:u.replace(n,"")+"_SUCCESS",rejectOn:u.replace(n,"")+"_ERROR"};return o[u]?o[u](r,i).then((function(e){var r=P(e,f.resolveOn);r.workerID=c,i(r)})).catch((function(e){var r=P(e,f.rejectOn);r.workerID=c,i(r)})):r.type.startsWith(n)?void console.warn("Worker call action with ".concat(n," (").concat(r.type,"), to prevent infinite loop, action is discarded")):t(r)}}(r.data,self.postMessage,e)}))}}])}));